<form [formGroup]="form">
    <div>
        <mat-form-field><input name="email" matInput [formControlName]="'email'" placeholder="E-mail" required>
        </mat-form-field>
        <div class="form-invalid" *ngIf="form.controls.email.dirty && form.controls.email.errors">E-mail is not valid</div>
    </div>
    <div>
        <mat-form-field>
            <input formControlName="password" [type]="hide?'password':'text'" matInput placeholder="Enter your password" name="password" required>
            <mat-icon class="icon-hide"  matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        </mat-form-field>
        <div class="form-invalid" *ngIf="form.controls.password.dirty && form.controls.password.errors?.minlength">Password must be at least 8 characters</div>
    </div>
    <div>
        <mat-form-field>
            <input formControlName="confpassword" name="confpassword" matInput placeholder="Confirm your password" [type]="hide?'password':'text'" required>
            <mat-icon class="icon-hide" matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        </mat-form-field>
        <div class="form-invalid" *ngIf="form.controls.confpassword.dirty && form.controls.confpassword.errors?.minlength">Password must be at least 8 characters</div>
        <div class="form-invalid" *ngIf="form.controls.confpassword.dirty && form.controls.confpassword.errors?.MatchPassword">Passwords must match</div>

    </div>

    <button mat-raised-button="" class="large hasicon" [disabled]="!form.valid" (click)="submit()" color="primary"><mat-icon>send</mat-icon>{{submitText}}</button>
</form>